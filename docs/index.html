<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pedantic Raven: Terminal-Based Context Engineering</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>Pedantic Raven</h1>
        <p class="subtitle">Terminal-Based Context Engineering</p>
        <nav>
            <a href="#abstract">Abstract</a> ·
            <a href="#problem">Problem</a> ·
            <a href="#architecture">Architecture</a> ·
            <a href="#features">Features</a> ·
            <a href="#validation">Validation</a> ·
            <a href="#comparison">Comparison</a> ·
            <a href="#roadmap">Roadmap</a> ·
            <a href="https://github.com/rand/pedantic_raven">Source</a>
        </nav>
    </header>

    <main>
        <section id="abstract">
            <h2>Abstract</h2>
            <p>
                AI systems require structured context to operate effectively. Current tools for creating context
                lack semantic structure—engineers manually track entities, relationships, and knowledge gaps using
                plain text files or GUI-based wikis separate from their development workflow.
            </p>
            <p>
                Pedantic Raven is a terminal-based semantic memory editor with real-time entity extraction,
                graph visualization, and mnemosyne integration. Built with Go and Bubble Tea, it provides
                responsive semantic analysis using a hybrid extraction strategy: ML-based (GLiNER, 85-95% accuracy)
                with automatic fallback to pattern matching (60-70% accuracy) when services are unavailable.
            </p>
            <p>
                <strong>Status:</strong> Phase 5/9 complete (Edit, Explore, Link modes operational).
                934 tests passing, 65% coverage. MIT licensed.
            </p>
        </section>

        <section id="problem">
            <h2>The Context Problem</h2>
            <p>
                Modern AI systems like Claude and GPT require context: architecture decisions, component relationships,
                knowledge gaps, requirements, and dependencies. Engineers maintain this in plain text files (no semantic
                structure), markdown documents (manual linking only), wikis (GUI-based, not terminal-native), or
                note-taking apps (no real-time semantic analysis).
            </p>

            <h3>Limitations of Current Approaches</h3>
            <table>
                <thead>
                    <tr>
                        <th>Tool Type</th>
                        <th>Limitations</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Plain Text</td>
                        <td>No automatic entity extraction, no relationship tracking, manual cross-references</td>
                    </tr>
                    <tr>
                        <td>Wikis (Obsidian, Roam)</td>
                        <td>Manual linking syntax, GUI-based, local-only or cloud-dependent, no real-time analysis</td>
                    </tr>
                    <tr>
                        <td>Note Tools</td>
                        <td>General note-taking focus, no semantic memory integration, no gap tracking</td>
                    </tr>
                </tbody>
            </table>

            <h3>Design Goals</h3>
            <ul>
                <li>Real-time semantic analysis (500ms debounce)</li>
                <li>Automatic entity extraction (Person, Technology, Concept, Organization)</li>
                <li>Relationship detection with confidence scoring</li>
                <li>Terminal-native TUI (no GUI required)</li>
                <li>Offline-first with mnemosyne sync</li>
                <li>Graceful degradation (always functional, even when external services unavailable)</li>
            </ul>
        </section>

        <section id="architecture">
            <h2>System Architecture</h2>
            <p>
                Pedantic Raven uses the Elm Architecture (via Bubble Tea) with event-driven communication.
                The system consists of five operational modes, a PubSub event broker, and pluggable entity
                extraction strategies.
            </p>

            <h3>Component Structure</h3>
            <img src="images/02-component-architecture.svg" alt="Component Architecture">
            <p>
                Core packages: <code>app</code> (coordinator), <code>editor</code> (text buffer, search, semantic analysis),
                <code>mnemosyne</code> (gRPC client), <code>gliner</code> (ML extraction), <code>modes</code> (registry),
                <code>layout</code> (UI), <code>overlay</code> (help, confirm), <code>palette</code> (command execution).
            </p>

            <h3>Semantic Pipeline</h3>
            <img src="images/03-semantic-pipeline.svg" alt="Semantic Pipeline">
            <p>
                Text changes trigger debounced analysis (500ms). The HybridExtractor attempts GLiNER extraction
                (100-300ms latency, 85-95% accuracy), falling back to PatternExtractor (&lt;1ms, 60-70% accuracy)
                on timeout or service unavailability. Entity results update the UI via <code>EntitiesExtractedMsg</code>.
            </p>

            <h3>Offline-First Design</h3>
            <img src="images/07-offline-state.svg" alt="Offline State Machine">
            <p>
                Connection states: Disconnected → Connecting → Connected → Syncing → Synced. Health checks
                every 30 seconds. Exponential backoff on reconnection (max 5 attempts). Local cache + sync
                queue ensure work is never lost.
            </p>

            <h3>Event System</h3>
            <img src="images/10-event-system.svg" alt="Event System">
            <p>
                PubSub broker decouples components. 40+ event types (BufferChanged, ModeActivated, EntitiesExtracted,
                MemorySaved, SearchCompleted). Modes publish events, other components subscribe. Enables composition
                without tight coupling.
            </p>
        </section>

        <section id="features">
            <h2>Core Features</h2>

            <h3>Edit Mode (Phase 2)</h3>
            <ul>
                <li><strong>Real-time entity extraction:</strong> Person, Organization, Location, Technology, API components</li>
                <li><strong>Hybrid extraction strategy:</strong> GLiNER (ML) → Pattern matching (fallback)</li>
                <li><strong>500ms debounce:</strong> Balance responsiveness with API efficiency</li>
                <li><strong>Vim-style navigation:</strong> h/j/k/l movement, i/a insert, Esc to command</li>
                <li><strong>mnemosyne integration:</strong> Ctrl+S saves with namespace, importance, tags</li>
            </ul>

            <h3>Explore Mode (Phase 3)</h3>
            <ul>
                <li><strong>Semantic search:</strong> Query mnemosyne memory store with natural language</li>
                <li><strong>List navigation:</strong> j/k to move, Enter to open, / to filter</li>
                <li><strong>Memory metadata:</strong> Importance (0-10), tags, created/updated timestamps</li>
                <li><strong>Quick preview:</strong> Inline memory content without full mode switch</li>
            </ul>

            <h3>Link Mode (Phase 4)</h3>
            <ul>
                <li><strong>Keyboard navigation:</strong> Tab/Shift+Tab to cycle links, Enter to follow</li>
                <li><strong>Link types:</strong> URLs, file paths, memory references, cross-document anchors</li>
                <li><strong>Visual highlighting:</strong> Focused link underlined, others styled</li>
                <li><strong>Command palette:</strong> Ctrl+P for link management (add, remove, list)</li>
            </ul>

            <h3>Analyze Mode (Phase 6 - In Progress)</h3>
            <ul>
                <li><strong>Triple graph visualization:</strong> Entity-relationship-entity patterns (subject-predicate-object)</li>
                <li><strong>Force-directed layout:</strong> Related entities cluster, relationships labeled</li>
                <li><strong>Interactive navigation:</strong> Click entities to focus, zoom to explore subgraphs</li>
                <li><strong>Pattern mining:</strong> Discover frequent relationship types (e.g., "uses", "depends on")</li>
            </ul>
            <img src="images/05-triple-graph.svg" alt="Triple Graph Example">
        </section>

        <section id="validation">
            <h2>Validation Matrix</h2>
            <p>
                All claims validated against commit <code>400da43</code>
                (<a href="https://github.com/rand/pedantic_raven/tree/400da43">view source</a>).
            </p>
            <table>
                <thead>
                    <tr>
                        <th>Claim</th>
                        <th>Evidence</th>
                        <th>Location</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>934 passing tests</td>
                        <td><code>go test ./...</code> output</td>
                        <td><a href="https://github.com/rand/pedantic_raven/tree/400da43">Repository root</a></td>
                    </tr>
                    <tr>
                        <td>65% test coverage</td>
                        <td><code>go test -coverprofile=coverage.out ./...</code></td>
                        <td>Verified via <code>go tool cover</code></td>
                    </tr>
                    <tr>
                        <td>Hybrid extraction strategy</td>
                        <td>HybridExtractor implementation</td>
                        <td><a href="https://github.com/rand/pedantic_raven/blob/400da43/internal/editor/semantic/hybrid_extractor.go">internal/editor/semantic/hybrid_extractor.go</a></td>
                    </tr>
                    <tr>
                        <td>GLiNER 85-95% accuracy</td>
                        <td>Test results on 100-entity dataset</td>
                        <td><a href="https://github.com/rand/pedantic_raven/blob/400da43/internal/editor/semantic/gliner_extractor_test.go">internal/editor/semantic/gliner_extractor_test.go:142-156</a></td>
                    </tr>
                    <tr>
                        <td>Pattern matching 60-70% accuracy</td>
                        <td>Benchmark tests with known entity sets</td>
                        <td><a href="https://github.com/rand/pedantic_raven/blob/400da43/internal/editor/semantic/pattern_extractor_test.go">internal/editor/semantic/pattern_extractor_test.go:89-103</a></td>
                    </tr>
                    <tr>
                        <td>500ms debounce</td>
                        <td>Semantic analyzer configuration</td>
                        <td><a href="https://github.com/rand/pedantic_raven/blob/400da43/internal/editor/semantic/analyzer.go#L23">internal/editor/semantic/analyzer.go:23</a></td>
                    </tr>
                    <tr>
                        <td>40+ event types</td>
                        <td>Event type definitions</td>
                        <td><a href="https://github.com/rand/pedantic_raven/blob/400da43/internal/app/events/events.go">internal/app/events/events.go</a></td>
                    </tr>
                    <tr>
                        <td>Five operational modes</td>
                        <td>Mode registry</td>
                        <td><a href="https://github.com/rand/pedantic_raven/blob/400da43/internal/modes/registry.go">internal/modes/registry.go</a></td>
                    </tr>
                    <tr>
                        <td>Offline-first architecture</td>
                        <td>Connection state machine</td>
                        <td><a href="https://github.com/rand/pedantic_raven/blob/400da43/internal/mnemosyne/client.go#L45-L67">internal/mnemosyne/client.go:45-67</a></td>
                    </tr>
                    <tr>
                        <td>Phase 5/9 complete</td>
                        <td>Phase completion summaries</td>
                        <td><a href="https://github.com/rand/pedantic_raven/blob/400da43/docs/PHASE5_COMPLETE.md">docs/PHASE5_COMPLETE.md</a></td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="comparison">
            <h2>Comparison with Alternatives</h2>
            <table>
                <thead>
                    <tr>
                        <th>Feature</th>
                        <th>Pedantic Raven</th>
                        <th>Obsidian</th>
                        <th>Notion</th>
                        <th>Plain Text</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Terminal-native</td>
                        <td>Yes</td>
                        <td>No (Electron GUI)</td>
                        <td>No (Web/Desktop)</td>
                        <td>Yes</td>
                    </tr>
                    <tr>
                        <td>Real-time entity extraction</td>
                        <td>Automatic (hybrid ML + pattern)</td>
                        <td>Manual tags/links</td>
                        <td>Manual tags</td>
                        <td>None</td>
                    </tr>
                    <tr>
                        <td>Offline-first</td>
                        <td>Local cache + sync queue</td>
                        <td>Local vault (optional sync)</td>
                        <td>Cloud-dependent</td>
                        <td>Fully offline</td>
                    </tr>
                    <tr>
                        <td>Graph visualization</td>
                        <td>Force-directed triple graph</td>
                        <td>Static link graph</td>
                        <td>Limited</td>
                        <td>None</td>
                    </tr>
                    <tr>
                        <td>Semantic memory integration</td>
                        <td>mnemosyne gRPC (native)</td>
                        <td>None</td>
                        <td>Proprietary</td>
                        <td>None</td>
                    </tr>
                    <tr>
                        <td>Graceful degradation</td>
                        <td>Always functional (fallback extraction)</td>
                        <td>Local vault remains available</td>
                        <td>Requires internet</td>
                        <td>Always functional</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="getting-started">
            <h2>Getting Started</h2>
            <pre><code># Clone repository
git clone https://github.com/rand/pedantic_raven.git
cd pedantic_raven

# Build
make build

# Run tests
make test

# Start editor (local-only mode)
./pedantic_raven

# Start with mnemosyne integration
MNEMOSYNE_ENABLED=true MNEMOSYNE_ADDRESS=localhost:50051 ./pedantic_raven

# Start with GLiNER extraction
make docker-gliner  # Start GLiNER service
GLINER_ENABLED=true ./pedantic_raven</code></pre>

            <h3>Configuration</h3>
            <p>
                Edit <code>config.toml</code> or use environment variables:
            </p>
            <ul>
                <li><code>MNEMOSYNE_ENABLED</code>: Enable mnemosyne integration (default: false)</li>
                <li><code>MNEMOSYNE_ADDRESS</code>: gRPC endpoint (default: localhost:50051)</li>
                <li><code>GLINER_ENABLED</code>: Enable ML-based extraction (default: true)</li>
                <li><code>GLINER_SERVICE_URL</code>: GLiNER HTTP endpoint (default: http://localhost:8765)</li>
            </ul>
        </section>

        <section id="roadmap">
            <h2>Development Roadmap</h2>
            <table>
                <thead>
                    <tr>
                        <th>Phase</th>
                        <th>Feature</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Phase 1</td>
                        <td>Project Bootstrap (Go, Bubble Tea, basic editor)</td>
                        <td>✓ Complete</td>
                    </tr>
                    <tr>
                        <td>Phase 2</td>
                        <td>Edit Mode (entity extraction, syntax highlighting, mnemosyne save)</td>
                        <td>✓ Complete</td>
                    </tr>
                    <tr>
                        <td>Phase 3</td>
                        <td>Explore Mode (semantic search, memory browsing, filtering)</td>
                        <td>✓ Complete</td>
                    </tr>
                    <tr>
                        <td>Phase 4</td>
                        <td>Link Mode (URL/file navigation, keyboard shortcuts, visual highlighting)</td>
                        <td>✓ Complete</td>
                    </tr>
                    <tr>
                        <td>Phase 5</td>
                        <td>Context Mode (multi-buffer workspace, layout management)</td>
                        <td>✓ Complete</td>
                    </tr>
                    <tr>
                        <td>Phase 6</td>
                        <td>Analyze Mode (triple graph visualization, pattern mining, entity display)</td>
                        <td>▸ In Progress</td>
                    </tr>
                    <tr>
                        <td>Phase 7</td>
                        <td>Orchestrate Mode (multi-agent coordination, task delegation)</td>
                        <td>Planned</td>
                    </tr>
                    <tr>
                        <td>Phase 8</td>
                        <td>Collaborate Mode (shared memory spaces, conflict resolution)</td>
                        <td>Planned</td>
                    </tr>
                    <tr>
                        <td>Phase 9</td>
                        <td>Polish & Production (performance optimization, documentation)</td>
                        <td>Planned</td>
                    </tr>
                </tbody>
            </table>
            <p>
                <strong>Current priority:</strong> Phase 6 implementation (force-directed graph layout,
                interactive visualization, relationship pattern mining).
            </p>
        </section>

        <section id="conclusion">
            <h2>Conclusion</h2>
            <p>
                Pedantic Raven addresses the gap between plain text editing and semantic memory systems.
                By providing real-time entity extraction, hybrid ML/pattern strategies, and terminal-native
                integration with mnemosyne, it enables engineers to create structured context efficiently.
            </p>
            <p>
                The system's offline-first architecture and graceful degradation ensure reliability, while
                the event-driven design enables future modes (orchestration, collaboration) without rewriting
                core components.
            </p>
            <p>
                <strong>Try it:</strong> <a href="https://github.com/rand/pedantic_raven">github.com/rand/pedantic_raven</a>
            </p>
        </section>
    </main>

    <footer>
        <p>
            Pedantic Raven v0.5.0 · MIT License ·
            <a href="https://github.com/rand/pedantic_raven">GitHub</a> ·
            <a href="WHITEPAPER.md">Full Whitepaper</a> ·
            Validated against commit <a href="https://github.com/rand/pedantic_raven/tree/400da43">400da43</a>
        </p>
    </footer>
</body>
</html>
