<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pedantic Raven: Terminal-Based Context Engineering for AI Systems</title>
    <meta name="description" content="A semantic memory editor with real-time entity extraction, graph visualization, and mnemosyne integration. Technical whitepaper.">

    <!-- Favicons -->
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">

    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://rand.github.io/pedantic_raven/">
    <meta property="og:title" content="Pedantic Raven: Context Engineering for AI Systems">
    <meta property="og:description" content="Offline-first semantic knowledge graph with DuckDB, GLiNER entity extraction, and mnemosyne integration. 934 tests, 65% coverage.">
    <meta property="og:image" content="https://rand.github.io/pedantic_raven/og-image.png">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://rand.github.io/pedantic_raven/">
    <meta name="twitter:title" content="Pedantic Raven: Context Engineering for AI Systems">
    <meta name="twitter:description" content="Offline-first semantic knowledge graph with DuckDB, GLiNER entity extraction, and mnemosyne integration. 934 tests, 65% coverage.">
    <meta name="twitter:image" content="https://rand.github.io/pedantic_raven/og-image.png">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/geist@1.0.0/dist/geist.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">

    <!-- Shared Foundation (structure without colors) -->
    <link rel="stylesheet" href="css/foundation.css">

    <!-- Pedantic Raven Theme (project-specific colors and identity) -->
    <link rel="stylesheet" href="css/pedantic-raven-theme.css">
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <a href="index.html" class="nav-brand">
                <span class="logo-glyph"></span>
                <strong>Pedantic Raven</strong> v0.5.0
            </a>
            <div class="nav-links">
                <a href="#abstract">Abstract</a>
                <a href="#architecture">Architecture</a>
                <a href="#features">Features</a>
                <a href="#validation">Validation</a>
                <a href="https://github.com/rand/pedantic_raven/tree/400da43" target="_blank">Source</a>
                <button class="theme-toggle" aria-label="Toggle theme">
                    <span class="theme-toggle-icon"></span>
                </button>
            </div>
        </div>
    </nav>

    <aside class="sidebar">
        <div class="sidebar-content">
            <div class="sidebar-tagline">// Context Engineering</div>
        </div>
    </aside>

    <main class="container">
        <header class="paper-header">
            <h1>Pedantic Raven: Terminal-Based Context Engineering for AI Systems</h1>
            <p class="paper-meta">
                <span>Version 0.5.0</span> ·
                <span>November 8, 2025</span> ·
                <a href="https://github.com/rand/pedantic_raven">github.com/rand/pedantic_raven</a>
            </p>
        </header>

        <section id="abstract" class="section">
            <h2>Abstract</h2>
            <p>AI systems require structured context to operate effectively. Current tools lack semantic structure. Engineers manually track entities, relationships, and knowledge gaps using plain text files or GUI-based wikis separate from their development workflow.</p>

            <p>Pedantic Raven is a terminal-based semantic memory editor with real-time entity extraction, graph visualization, and mnemosyne integration. Built with Go and Bubble Tea, it provides semantic analysis using a hybrid extraction strategy: ML-based (GLiNER, 85-95% accuracy) with automatic fallback to pattern matching (60-70% accuracy) when services are unavailable.</p>

            <p>The system implements graceful degradation, offline-first architecture, and event-driven coordination through a PubSub broker with 40+ event types. Five operational modes (Edit, Explore, Link, Context, Analyze) provide specialized workflows for context creation, memory browsing, link navigation, multi-buffer workspaces, and graph visualization.</p>

            <p>This paper presents the architecture, validates claims against tagged source code (commit 400da43), compares with existing solutions (Obsidian, Notion, plain text), and demonstrates production readiness through 934 passing tests with 65% coverage.</p>
        </section>

        <section id="challenge" class="section">
            <h2>The Context Problem</h2>

            <h3>Context Engineering for AI Systems</h3>
            <p>Modern AI systems like Claude and GPT require context: architecture decisions, component relationships, knowledge gaps, requirements, and dependencies. Engineers maintain this in plain text files (no semantic structure), markdown documents (manual linking only), wikis (GUI-based, not terminal-native), or note-taking apps (no real-time semantic analysis).</p>

            <h3>Limitations of Current Approaches</h3>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Tool Type</th>
                        <th>Limitations</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Plain Text</td>
                        <td>No automatic entity extraction, no relationship tracking, manual cross-references</td>
                    </tr>
                    <tr>
                        <td>Wikis (Obsidian, Roam)</td>
                        <td>Manual linking syntax, GUI-based, local-only or cloud-dependent, no real-time analysis</td>
                    </tr>
                    <tr>
                        <td>Note Tools</td>
                        <td>General note-taking focus, no semantic memory integration, no gap tracking</td>
                    </tr>
                </tbody>
            </table>

            <h3>Design Goals</h3>
            <ul>
                <li>Real-time semantic analysis (500ms debounce)</li>
                <li>Automatic entity extraction (Person, Technology, Concept, Organization)</li>
                <li>Relationship detection with confidence scoring</li>
                <li>Terminal-native TUI (no GUI required)</li>
                <li>Offline-first with mnemosyne sync</li>
                <li>Graceful degradation (always functional, even when external services unavailable)</li>
            </ul>
        </section>

        <section id="architecture" class="section">
            <h2>Architecture</h2>

            <h3>Core Memory System</h3>
            <p>Pedantic Raven uses the Elm Architecture (via Bubble Tea) with event-driven communication. The system consists of five operational modes, a PubSub event broker, and pluggable entity extraction strategies.</p>

            <h3>Component Structure</h3>
            <div class="diagram-container">
                <picture>
                    <source srcset="images/02-component-architecture-dark.svg" media="(prefers-color-scheme: dark)">
                    <img src="images/02-component-architecture-light.svg" alt="Component Architecture" class="diagram-svg" />
                </picture>
            </div>
            <p>Core packages: <code>app</code> (coordinator), <code>editor</code> (text buffer, search, semantic analysis), <code>mnemosyne</code> (gRPC client), <code>gliner</code> (ML extraction), <code>modes</code> (registry), <code>layout</code> (UI), <code>overlay</code> (help, confirm), <code>palette</code> (command execution).</p>

            <h3>Semantic Pipeline</h3>
            <div class="diagram-container">
                <picture>
                    <source srcset="images/03-semantic-pipeline-dark.svg" media="(prefers-color-scheme: dark)">
                    <img src="images/03-semantic-pipeline-light.svg" alt="Semantic Pipeline" class="diagram-svg" />
                </picture>
            </div>
            <p>Text changes trigger debounced analysis (500ms). The HybridExtractor attempts GLiNER extraction (100-300ms latency, 85-95% accuracy), falling back to PatternExtractor (&lt;1ms, 60-70% accuracy) on timeout or service unavailability. Entity results update the UI via <code>EntitiesExtractedMsg</code>.</p>

            <h3>Offline-First Design</h3>
            <div class="diagram-container">
                <picture>
                    <source srcset="images/07-offline-state-dark.svg" media="(prefers-color-scheme: dark)">
                    <img src="images/07-offline-state-light.svg" alt="Offline State Machine" class="diagram-svg" />
                </picture>
            </div>
            <p>Connection states: Disconnected → Connecting → Connected → Syncing → Synced. Health checks every 30 seconds. Exponential backoff on reconnection (max 5 attempts). Local cache + sync queue ensure work is never lost.</p>

            <h3>Event System</h3>
            <div class="diagram-container">
                <picture>
                    <source srcset="images/10-event-system-dark.svg" media="(prefers-color-scheme: dark)">
                    <img src="images/10-event-system-light.svg" alt="Event System" class="diagram-svg" />
                </picture>
            </div>
            <p>PubSub broker decouples components. 40+ event types (BufferChanged, ModeActivated, EntitiesExtracted, MemorySaved, SearchCompleted). Modes publish events, other components subscribe. Enables composition without tight coupling.</p>

            <h3>Technology Stack</h3>
            <p><strong>Core</strong>: Go 1.21+ (type safety, simplicity), Bubble Tea (Elm Architecture TUI), LibSQL (local storage), gRPC (mnemosyne integration)</p>
            <p><strong>ML</strong>: GLiNER 340M parameter model for entity extraction (FastAPI service)</p>
            <p><strong>Protocols</strong>: gRPC (mnemosyne communication), HTTP (GLiNER service), PubSub (internal events)</p>
        </section>

        <section id="features" class="section">
            <h2>Core Features</h2>

            <h3>Edit Mode (Phase 2)</h3>
            <ul>
                <li><strong>Real-time entity extraction</strong>: Person, Organization, Location, Technology, API components</li>
                <li><strong>Hybrid extraction strategy</strong>: GLiNER (ML) → Pattern matching (fallback)</li>
                <li><strong>500ms debounce</strong>: Balance responsiveness with API efficiency</li>
                <li><strong>Vim-style navigation</strong>: h/j/k/l movement, i/a insert, Esc to command</li>
                <li><strong>mnemosyne integration</strong>: Ctrl+S saves with namespace, importance, tags</li>
            </ul>

            <h3>Explore Mode (Phase 3)</h3>
            <ul>
                <li><strong>Semantic search</strong>: Query mnemosyne memory store with natural language</li>
                <li><strong>List navigation</strong>: j/k to move, Enter to open, / to filter</li>
                <li><strong>Memory metadata</strong>: Importance (0-10), tags, created/updated timestamps</li>
                <li><strong>Quick preview</strong>: Inline memory content without full mode switch</li>
            </ul>

            <h3>Link Mode (Phase 4)</h3>
            <ul>
                <li><strong>Keyboard navigation</strong>: Tab/Shift+Tab to cycle links, Enter to follow</li>
                <li><strong>Link types</strong>: URLs, file paths, memory references, cross-document anchors</li>
                <li><strong>Visual highlighting</strong>: Focused link underlined, others styled</li>
                <li><strong>Command palette</strong>: Ctrl+P for link management (add, remove, list)</li>
            </ul>

            <h3>Analyze Mode (Phase 6 - In Progress)</h3>
            <ul>
                <li><strong>Triple graph visualization</strong>: Entity-relationship-entity patterns (subject-predicate-object)</li>
                <li><strong>Force-directed layout</strong>: Related entities cluster, relationships labeled</li>
                <li><strong>Interactive navigation</strong>: Click entities to focus, zoom to explore subgraphs</li>
                <li><strong>Pattern mining</strong>: Discover frequent relationship types (e.g., "uses", "depends on")</li>
            </ul>
            <div class="diagram-container">
                <picture>
                    <source srcset="images/05-triple-graph-dark.svg" media="(prefers-color-scheme: dark)">
                    <img src="images/05-triple-graph-light.svg" alt="Triple Graph Example" class="diagram-svg" />
                </picture>
            </div>
        </section>

        <section id="validation" class="section">
            <h2>Validation & Evidence</h2>

            <h3>Test Coverage</h3>
            <p><strong>934 passing tests</strong> (100% pass rate) with 65% coverage across categories:</p>
            <ul>
                <li>~400 unit tests: Buffer operations, entity extraction, semantic analysis, mode transitions</li>
                <li>~300 integration tests: mnemosyne client, GLiNER service, event system, mode coordination</li>
                <li>~150 E2E tests: User workflows, graceful degradation, offline scenarios</li>
                <li>~84 specialized tests: Performance benchmarks, memory leaks, concurrent access</li>
            </ul>

            <h3>Code Validation</h3>
            <p>All claims validated against commit <code>400da43</code> (<a href="https://github.com/rand/pedantic_raven/tree/400da43">view source</a>).</p>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Claim</th>
                        <th>Evidence</th>
                        <th>Location</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>934 passing tests</td>
                        <td><code>go test ./...</code> output</td>
                        <td><a href="https://github.com/rand/pedantic_raven/tree/400da43">Repository root</a></td>
                    </tr>
                    <tr>
                        <td>65% test coverage</td>
                        <td><code>go test -coverprofile=coverage.out ./...</code></td>
                        <td>Verified via <code>go tool cover</code></td>
                    </tr>
                    <tr>
                        <td>Hybrid extraction strategy</td>
                        <td>HybridExtractor implementation</td>
                        <td><a href="https://github.com/rand/pedantic_raven/blob/400da43/internal/editor/semantic/hybrid_extractor.go">internal/editor/semantic/hybrid_extractor.go</a></td>
                    </tr>
                    <tr>
                        <td>GLiNER 85-95% accuracy</td>
                        <td>Test results on 100-entity dataset</td>
                        <td><a href="https://github.com/rand/pedantic_raven/blob/400da43/internal/editor/semantic/gliner_extractor_test.go">internal/editor/semantic/gliner_extractor_test.go:142-156</a></td>
                    </tr>
                    <tr>
                        <td>Pattern matching 60-70% accuracy</td>
                        <td>Benchmark tests with known entity sets</td>
                        <td><a href="https://github.com/rand/pedantic_raven/blob/400da43/internal/editor/semantic/pattern_extractor_test.go">internal/editor/semantic/pattern_extractor_test.go:89-103</a></td>
                    </tr>
                    <tr>
                        <td>500ms debounce</td>
                        <td>Semantic analyzer configuration</td>
                        <td><a href="https://github.com/rand/pedantic_raven/blob/400da43/internal/editor/semantic/analyzer.go#L23">internal/editor/semantic/analyzer.go:23</a></td>
                    </tr>
                    <tr>
                        <td>40+ event types</td>
                        <td>Event type definitions</td>
                        <td><a href="https://github.com/rand/pedantic_raven/blob/400da43/internal/app/events/events.go">internal/app/events/events.go</a></td>
                    </tr>
                    <tr>
                        <td>Five operational modes</td>
                        <td>Mode registry</td>
                        <td><a href="https://github.com/rand/pedantic_raven/blob/400da43/internal/modes/registry.go">internal/modes/registry.go</a></td>
                    </tr>
                    <tr>
                        <td>Offline-first architecture</td>
                        <td>Connection state machine</td>
                        <td><a href="https://github.com/rand/pedantic_raven/blob/400da43/internal/mnemosyne/client.go#L45-L67">internal/mnemosyne/client.go:45-67</a></td>
                    </tr>
                    <tr>
                        <td>Phase 5/9 complete</td>
                        <td>Phase completion summaries</td>
                        <td><a href="https://github.com/rand/pedantic_raven/blob/400da43/docs/PHASE5_COMPLETE.md">docs/PHASE5_COMPLETE.md</a></td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="comparison" class="section">
            <h2>Comparison with Alternatives</h2>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Feature</th>
                        <th>Pedantic Raven</th>
                        <th>Obsidian</th>
                        <th>Notion</th>
                        <th>Plain Text</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Terminal-native</td>
                        <td><strong>Yes</strong></td>
                        <td>No (Electron GUI)</td>
                        <td>No (Web/Desktop)</td>
                        <td>Yes</td>
                    </tr>
                    <tr>
                        <td>Real-time entity extraction</td>
                        <td><strong>Automatic (hybrid ML + pattern)</strong></td>
                        <td>Manual tags/links</td>
                        <td>Manual tags</td>
                        <td>None</td>
                    </tr>
                    <tr>
                        <td>Offline-first</td>
                        <td><strong>Local cache + sync queue</strong></td>
                        <td>Local vault (optional sync)</td>
                        <td>Cloud-dependent</td>
                        <td>Fully offline</td>
                    </tr>
                    <tr>
                        <td>Graph visualization</td>
                        <td><strong>Force-directed triple graph</strong></td>
                        <td>Static link graph</td>
                        <td>Limited</td>
                        <td>None</td>
                    </tr>
                    <tr>
                        <td>Semantic memory integration</td>
                        <td><strong>mnemosyne gRPC (native)</strong></td>
                        <td>None</td>
                        <td>Proprietary</td>
                        <td>None</td>
                    </tr>
                    <tr>
                        <td>Graceful degradation</td>
                        <td><strong>Always functional (fallback extraction)</strong></td>
                        <td>Local vault remains available</td>
                        <td>Requires internet</td>
                        <td>Always functional</td>
                    </tr>
                </tbody>
            </table>

            <p>Pedantic Raven treats context engineering as a first-class terminal workflow. Where Obsidian provides GUI-based wiki editing and Notion offers cloud collaboration, Pedantic Raven integrates semantic memory extraction with terminal-native development environments.</p>
        </section>

        <section id="conclusion" class="section">
            <h2>Summary</h2>
            <p>Pedantic Raven demonstrates that semantic memory editing can be terminal-native and production-ready. The architecture delivers real-time entity extraction through hybrid ML/pattern strategies, persistent context via mnemosyne integration, offline-first reliability through graceful degradation, and event-driven extensibility for future modes.</p>

            <p>The system addresses fundamental challenges: context loss elimination (semantic structure persists across sessions), cognitive load reduction (automatic entity extraction), workflow integration (terminal-native TUI), and relationship tracking (graph visualization).</p>

            <h3>Resources</h3>
            <ul>
                <li><a href="https://github.com/rand/pedantic_raven">Repository</a></li>
                <li><a href="whitepaper.html">Full Whitepaper</a></li>
                <li><a href="https://github.com/rand/pedantic_raven/tree/400da43">Validated Source (commit 400da43)</a></li>
                <li><a href="https://github.com/rand/pedantic_raven/tree/main/docs">Documentation</a></li>
            </ul>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <p>Pedantic Raven v0.5.0 · November 8, 2025 · <a href="https://github.com/rand/pedantic_raven/blob/main/LICENSE">MIT License</a></p>
        </div>
    </footer>

    <!-- Shared Foundation Scripts -->
    <script src="js/theme-core.js"></script>
    <script src="js/sidebar-core.js"></script>
    <script src="js/toc-core.js"></script>
</body>
</html>
